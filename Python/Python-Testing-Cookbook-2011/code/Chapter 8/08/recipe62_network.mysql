DROP TABLE IF EXISTS SERVICE_MAPPING;
DROP TABLE IF EXISTS SERVICE_EVENTS;
DROP TABLE IF EXISTS ACTIVE_EVENTS;
DROP TABLE IF EXISTS EQUIPMENT;
DROP TABLE IF EXISTS SERVICE;
DROP TABLE IF EXISTS EVENTS;

CREATE TABLE EQUIPMENT (
    ID        SMALLINT PRIMARY KEY AUTO_INCREMENT,
    HOST_NAME TEXT,
    STATUS    SMALLINT
    );

CREATE TABLE SERVICE (
    ID SMALLINT PRIMARY KEY AUTO_INCREMENT,
    NAME TEXT,
    STATUS TEXT
    );

CREATE TABLE SERVICE_MAPPING (
    ID SMALLINT PRIMARY KEY AUTO_INCREMENT,
    SERVICE_FK SMALLINT,
    EQUIPMENT_FK SMALLINT
    );

CREATE TABLE EVENTS (
    ID SMALLINT PRIMARY KEY AUTO_INCREMENT,
    HOST_NAME TEXT,
    SEVERITY SMALLINT,
    EVENT_CONDITION TEXT
    );

CREATE TABLE SERVICE_EVENTS (
    ID SMALLINT PRIMARY KEY AUTO_INCREMENT,
    SERVICE_FK SMALLINT,
    EVENT_FK SMALLINT
    );

CREATE TABLE ACTIVE_EVENTS (
    ID SMALLINT PRIMARY KEY AUTO_INCREMENT,
    EVENT_FK SMALLINT
    );

INSERT into EQUIPMENT (ID, HOST_NAME, STATUS) values (1, 'pyhost1', 1);
INSERT into EQUIPMENT (ID, HOST_NAME, STATUS) values (2, 'pyhost2', 1);
INSERT into EQUIPMENT (ID, HOST_NAME, STATUS) values (3, 'pyhost3', 1);

INSERT into SERVICE (ID, NAME, STATUS) values (1, 'service-abc', 'Operational');

INSERT into SERVICE_MAPPING (SERVICE_FK, EQUIPMENT_FK) values (1,1);
INSERT into SERVICE_MAPPING (SERVICE_FK, EQUIPMENT_FK) values (1,2)
